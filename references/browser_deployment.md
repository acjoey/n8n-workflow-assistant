# 浏览器自动化部署指南

本指南说明如何使用 `browser_subagent` 工具在 n8n Web UI 中自动创建和部署工作流。

## 使用场景

当以下条件满足时，优先使用浏览器部署：

- 未配置 n8n API Key
- 需要验证节点是否正确显示
- 需要安装社区节点
- 需要用户实时查看操作过程

## 部署流程

### Step 1: 打开 n8n

```
Task: 打开浏览器并导航到 n8n 实例
URL: http://localhost:5678 或 https://your-n8n-instance.com
```

### Step 2: 登录（如需要）

```
Task: 如果出现登录页面，使用用户凭据登录
- 检测是否在登录页面
- 输入用户名和密码
- 点击登录按钮
```

### Step 3: 创建新工作流

```
Task: 创建新的空白工作流
1. 点击左上角 "+" 按钮或 "New Workflow"
2. 等待编辑器加载完成
```

### Step 4: 导入工作流 JSON

**方式 A: 通过菜单导入**
```
1. 按 Ctrl+O 或点击菜单 → Import from File
2. 选择 workflow.json 文件
3. 确认导入
```

**方式 B: 通过粘贴导入**
```
1. 按 Ctrl+V 粘贴工作流 JSON
2. 确认导入对话框
```

### Step 5: 验证节点显示

**关键检查点：**

| 检查项 | 正常 | 异常 |
|--------|------|------|
| 节点图标 | 显示正确图标 | 显示 `?` 或空白 |
| 节点连接 | 连线完整 | 连线断开或缺失 |
| 节点配置 | 可以打开编辑 | 报错或不可编辑 |

**如果发现 `?` 标记的节点**：

1. 检查节点类型名称是否正确
2. 检查是否需要安装社区节点
3. 参考 `node_compatibility.md` 解决

### Step 6: 安装缺失的社区节点

如果节点显示异常，可能需要安装社区节点：

```
1. 点击左下角 Settings 图标
2. 选择 "Community Nodes"
3. 点击 "Install"
4. 搜索并安装需要的节点包
5. 刷新页面
```

### Step 7: 保存并激活

```
1. 按 Ctrl+S 保存工作流
2. 可选：点击右上角开关激活工作流
```

---

## 常用 n8n 本地地址

| 环境 | 地址 |
|------|------|
| 本地默认 | `http://localhost:5678` |
| Docker 默认 | `http://localhost:5678` |
| 自定义端口 | 根据配置调整 |

## 浏览器操作提示

### 等待时间
- 页面加载后等待 2-3 秒确保完全加载
- 节点添加后等待 1 秒
- 保存后等待确认提示

### 常见问题

| 问题 | 解决方案 |
|------|----------|
| 节点显示 `?` | 检查节点类型名称或安装社区节点 |
| 导入失败 | 验证 JSON 格式正确 |
| 连接断开 | 手动重新连接节点 |
